!function(){angular.module("ngSearchText",[]).directive("searchText",["$compile","$timeout","$q",function(n,e,t){return{restrict:"E",replace:!0,scope:{ngModel:"=",ngRequest:"&",ngDelay:"@",ngDisabled:"=",placeholder:"@"},template:'<div class="dropdown" ng-class="{\'open\': focus && ngList.length>0}" ng-init="focus=false"><input type="text" class="form-control" ng-model="ngModel" ng-blur="timeOut()" ng-change="change()" ng-disabled="ngDisabled" placeholder="{{placeholder}}"/><div class="dropdown-relative"><ul class="dropdown-menu"><li ng-repeat="option in ngList track by $index" ng-click="optionClick(option)"><a>{{option}}</a></li></ul></div></div>',link:function(n,o,i,c){n.ngList=[],n.timeOut=function(){e(function(){n.focus=!1},300)},n.optionClick=function(e){n.ngModel=e,n.focus=!1};var l;n.change=function(){n.focus=!0,l&&e.cancel(l),l=e(function(){var e=t.defer();n.ngRequest({deferred:e,text:n.ngModel}),e.promise.then(function(e){n.ngList=e.data})},n.ngDelay||500)},n.$watch("ngModel",function(e){""===e&&(n.ngList=[])})}}}])}();